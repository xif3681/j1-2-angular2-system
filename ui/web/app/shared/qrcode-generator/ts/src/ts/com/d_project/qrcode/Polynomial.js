'use strict';
var com;
(function (com) {
    var d_project;
    (function (d_project) {
        var qrcode;
        (function (qrcode) {
            var Polynomial = (function () {
                function Polynomial(num, shift) {
                    if (shift === void 0) { shift = 0; }
                    var offset = 0;
                    while (offset < num.length && num[offset] == 0) {
                        offset += 1;
                    }
                    this.num = [];
                    var len = num.length - offset;
                    for (var i = 0; i < len; i += 1) {
                        this.num.push(num[offset + i]);
                    }
                    for (var i = 0; i < shift; i += 1) {
                        this.num.push(0);
                    }
                }
                Polynomial.prototype.getAt = function (index) {
                    return this.num[index];
                };
                Polynomial.prototype.getLength = function () {
                    return this.num.length;
                };
                Polynomial.prototype.toString = function () {
                    var buffer = '';
                    for (var i = 0; i < this.getLength(); i += 1) {
                        if (i > 0) {
                            buffer += ',';
                        }
                        buffer += this.getAt(i);
                    }
                    return buffer.toString();
                };
                Polynomial.prototype.toLogString = function () {
                    var buffer = '';
                    for (var i = 0; i < this.getLength(); i += 1) {
                        if (i > 0) {
                            buffer += ',';
                        }
                        buffer += qrcode.QRMath.glog(this.getAt(i));
                    }
                    return buffer.toString();
                };
                Polynomial.prototype.multiply = function (e) {
                    var num = [];
                    var len = this.getLength() + e.getLength() - 1;
                    for (var i = 0; i < len; i += 1) {
                        num.push(0);
                    }
                    for (var i = 0; i < this.getLength(); i += 1) {
                        for (var j = 0; j < e.getLength(); j += 1) {
                            num[i + j] ^= qrcode.QRMath.gexp(qrcode.QRMath.glog(this.getAt(i)) +
                                qrcode.QRMath.glog(e.getAt(j)));
                        }
                    }
                    return new Polynomial(num);
                };
                Polynomial.prototype.mod = function (e) {
                    if (this.getLength() - e.getLength() < 0) {
                        return this;
                    }
                    var ratio = qrcode.QRMath.glog(this.getAt(0)) - qrcode.QRMath.glog(e.getAt(0));
                    var num = [];
                    for (var i = 0; i < this.getLength(); i += 1) {
                        num.push(this.getAt(i));
                    }
                    for (var i = 0; i < e.getLength(); i += 1) {
                        num[i] ^= qrcode.QRMath.gexp(qrcode.QRMath.glog(e.getAt(i)) + ratio);
                    }
                    return new Polynomial(num).mod(e);
                };
                return Polynomial;
            }());
            qrcode.Polynomial = Polynomial;
        })(qrcode = d_project.qrcode || (d_project.qrcode = {}));
    })(d_project = com.d_project || (com.d_project = {}));
})(com || (com = {}));

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zaGFyZWQvcXJjb2RlLWdlbmVyYXRvci90cy9zcmMvdHMvY29tL2RfcHJvamVjdC9xcmNvZGUvUG9seW5vbWlhbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFDYixJQUFVLEdBQUcsQ0FnR1o7QUFoR0QsV0FBVSxHQUFHO0lBQUMsSUFBQSxTQUFTLENBZ0d0QjtJQWhHYSxXQUFBLFNBQVM7UUFBQyxJQUFBLE1BQU0sQ0FnRzdCO1FBaEd1QixXQUFBLE1BQU0sRUFBQyxDQUFDO1lBTTlCO2dCQUlFLG9CQUFtQixHQUFjLEVBQUUsS0FBUztvQkFBVCxxQkFBUyxHQUFULFNBQVM7b0JBRTFDLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztvQkFFZixPQUFPLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzt3QkFDL0MsTUFBTSxJQUFJLENBQUMsQ0FBQztvQkFDZCxDQUFDO29CQUVELElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO29CQUNkLElBQUksR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO29CQUM5QixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7d0JBQ2hDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDakMsQ0FBQztvQkFDRCxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7d0JBQ2xDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNuQixDQUFDO2dCQUNILENB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QWhHUyxHQUFHLEtBQUgsR0FBRyxRQWdHWiIsImZpbGUiOiJhcHAvc2hhcmVkL3FyY29kZS1nZW5lcmF0b3IvdHMvc3JjL3RzL2NvbS9kX3Byb2plY3QvcXJjb2RlL1BvbHlub21pYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5uYW1lc3BhY2UgY29tLmRfcHJvamVjdC5xcmNvZGUge1xuXG4gIC8qKlxuICAgKiBQb2x5bm9taWFsXG4gICAqIEBhdXRob3IgS2F6dWhpa28gQXJhc2VcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBQb2x5bm9taWFsIHtcblxuICAgIHByaXZhdGUgbnVtIDogbnVtYmVyW107XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IobnVtIDogbnVtYmVyW10sIHNoaWZ0ID0gMCkge1xuXG4gICAgICB2YXIgb2Zmc2V0ID0gMDtcblxuICAgICAgd2hpbGUgKG9mZnNldCA8IG51bS5sZW5ndGggJiYgbnVtW29mZnNldF0gPT0gMCkge1xuICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5udW0gPSBbXTtcbiAgICAgIHZhciBsZW4gPSBudW0ubGVuZ3RoIC0gb2Zmc2V0O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICB0aGlzLm51bS5wdXNoKG51bVtvZmZzZXQgKyBpXSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNoaWZ0OyBpICs9IDEpIHtcbiAgICAgICAgdGhpcy5udW0ucHVzaCgwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QXQoaW5kZXggOiBudW1iZXIpIDogbnVtYmVye1xuICAgICAgcmV0dXJuIHRoaXMubnVtW2luZGV4XTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGVuZ3RoKCkgOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMubnVtLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSA6IHN0cmluZyB7XG4gICAgICB2YXIgYnVmZmVyID0gJyc7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ2V0TGVuZ3RoKCk7IGkgKz0gMSkge1xuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICBidWZmZXIgKz0gJywnO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlciArPSB0aGlzLmdldEF0KGkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ1ZmZlci50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b0xvZ1N0cmluZygpIDogc3RyaW5nIHtcbiAgICAgIHZhciBidWZmZXIgPSAnJztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5nZXRMZW5ndGgoKTsgaSArPSAxKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIGJ1ZmZlciArPSAnLCc7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyICs9IFFSTWF0aC5nbG9nKHRoaXMuZ2V0QXQoaSkgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBidWZmZXIudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbXVsdGlwbHkoZSA6IFBvbHlub21pYWwpIDogUG9seW5vbWlhbCB7XG4gICAgICB2YXIgbnVtIDogbnVtYmVyW10gPSBbXTtcbiAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpICsgZS5nZXRMZW5ndGgoKSAtIDE7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgIG51bS5wdXNoKDApO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdldExlbmd0aCgpOyBpICs9IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlLmdldExlbmd0aCgpOyBqICs9IDEpIHtcbiAgICAgICAgICBudW1baSArIGpdIF49IFFSTWF0aC5nZXhwKFFSTWF0aC5nbG9nKHRoaXMuZ2V0QXQoaSkgKSArXG4gICAgICAgICAgICBRUk1hdGguZ2xvZyhlLmdldEF0KGopICkgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBQb2x5bm9taWFsKG51bSk7XG4gICAgfVxuXG4gICAgcHVibGljIG1vZChlIDogUG9seW5vbWlhbCkgOiBQb2x5bm9taWFsIHtcblxuICAgICAgaWYgKHRoaXMuZ2V0TGVuZ3RoKCkgLSBlLmdldExlbmd0aCgpIDwgMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIHJhdGlvID0gUVJNYXRoLmdsb2codGhpcy5nZXRBdCgwKSApIC0gUVJNYXRoLmdsb2coZS5nZXRBdCgwKSApO1xuXG4gICAgICAvLyBjcmVhdGUgY29weVxuICAgICAgdmFyIG51bSA6IG51bWJlcltdID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ2V0TGVuZ3RoKCk7IGkgKz0gMSkge1xuICAgICAgICBudW0ucHVzaCh0aGlzLmdldEF0KGkpICk7XG4gICAgICB9XG5cbiAgICAgIC8vIHN1YnRyYWN0IGFuZCBjYWxjIHJlc3QuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGUuZ2V0TGVuZ3RoKCk7IGkgKz0gMSkge1xuICAgICAgICBudW1baV0gXj0gUVJNYXRoLmdleHAoUVJNYXRoLmdsb2coZS5nZXRBdChpKSApICsgcmF0aW8pO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWxsIHJlY3Vyc2l2ZWx5XG4gICAgICByZXR1cm4gbmV3IFBvbHlub21pYWwobnVtKS5tb2QoZSk7XG4gICAgfVxuICB9XG59XG4iXX0=
